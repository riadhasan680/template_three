{{ define "main" }}
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
    <!-- Article Content -->
    <article class="lg:col-span-2">
      <!-- Breadcrumb -->
      <div
        class="text-sm text-gray-500 mb-4 uppercase tracking-wide font-medium"
      >
        <a href="/" class="hover:text-primary">Home</a>
        <span class="mx-2">/</span>
        <a href="/{{ .Section }}" class="hover:text-primary"
          >{{ .Section | humanize }}</a
        >
        <span class="mx-2">/</span>
        <span class="text-gray-300">{{ .Title }}</span>
      </div>

      <!-- Header -->
      <header class="mb-8">
        <h1
          class="text-3xl md:text-5xl font-heading font-black text-gray-900 mb-6 leading-tight"
        >
          {{ .Title }}
        </h1>

        <div
          class="flex items-center justify-between border-y border-gray-200 py-4 mb-8"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 rounded-full bg-gray-200 overflow-hidden ring-2 ring-primary/20"
            >
              <img
                src="https://ui-avatars.com/api/?name=Admin&background=random"
                alt="Admin"
                class="w-full h-full object-cover"
              />
            </div>
            <div>
              <div
                class="text-sm font-bold text-gray-900 uppercase tracking-tight"
              >
                By Admin
              </div>
              <div class="text-xs text-gray-500 font-medium">
                {{ .Date.Format "January 02, 2006" }}
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <!-- Share Icons -->
            <button
              class="w-8 h-8 rounded-full bg-[#1877F2] text-white flex items-center justify-center hover:opacity-90 transition-opacity"
            >
              <span class="icon-[mdi--facebook] w-4 h-4"></span>
            </button>
            <button
              class="w-8 h-8 rounded-full bg-[#1DA1F2] text-white flex items-center justify-center hover:opacity-90 transition-opacity"
            >
              <span class="icon-[mdi--twitter] w-4 h-4"></span>
            </button>
            <button
              class="w-8 h-8 rounded-full bg-[#25D366] text-white flex items-center justify-center hover:opacity-90 transition-opacity"
            >
              <span class="icon-[mdi--whatsapp] w-4 h-4"></span>
            </button>
          </div>
        </div>

        {{ if .Params.image }}
        <div class="rounded-xl overflow-hidden mb-8 shadow-sm">
          <img
            src="{{ .Params.image }}"
            alt="{{ .Title }}"
            class="w-full h-auto object-cover"
          />
        </div>
        {{ end }}
      </header>

      <!-- Body -->
      <div
        class="prose prose-lg max-w-none prose-headings:font-heading prose-headings:font-bold prose-headings:text-gray-900 prose-p:text-gray-700 prose-a:text-primary hover:prose-a:text-red-700 prose-img:rounded-xl"
      >
        {{ .Content }}
      </div>

      <!-- Tags -->
      {{ with .Params.tags }}
      <div class="mt-12 pt-8 border-t border-gray-200">
        <div class="flex flex-wrap gap-2">
          {{ range . }}
          <a
            href="/tags/{{ . | urlize }}"
            class="bg-dark-800 hover:bg-dark-700 text-gray-300 px-3 py-1 rounded text-sm transition-colors"
            >#{{ . }}</a
          >
          {{ end }}
        </div>
      </div>
      {{ end }}
    </article>

    <!-- Sidebar (Same as Home) -->
    <aside class="hidden lg:block space-y-8">
      <div class="sticky top-24">
        <!-- Latest Posts Widget -->
        <div class="bg-dark-800 p-6 rounded-lg border border-dark-700">
          <h4
            class="text-lg font-heading font-bold text-white uppercase mb-4 border-b border-dark-700 pb-2"
          >
            Recent News
          </h4>
          <div class="space-y-4">
            {{ range first 5 .Site.RegularPages }}
            <a href="{{ .Permalink }}" class="block group">
              <h5
                class="text-sm font-bold text-gray-200 leading-snug group-hover:text-primary transition-colors mb-1"
              >
                {{ .Title }}
              </h5>
              <span class="text-xs text-gray-500"
                >{{ .Date.Format "Jan 02" }}</span
              >
            </a>
            {{ end }}
          </div>
        </div>
      </div>
    </aside>
  </div>
</div>
{{ end }}
